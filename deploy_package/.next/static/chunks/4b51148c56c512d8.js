(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},42545,e=>{"use strict";e.i(47167),e.s(["BASE_PATH",0,"/gerador-matricula"],42545)},29426,e=>{"use strict";var t=e.i(43476),a=e.i(17255),s=e.i(18566),r=e.i(71645),l=e.i(75254);let i=(0,l.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var n=e.i(31278);let c=(0,l.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=e.i(84614),o=e.i(932),x=e.i(22016),m=e.i(42545);function p(){let{data:e,status:l}=(0,a.useSession)(),p=(0,s.useRouter)(),[u,h]=(0,r.useState)(""),g=function(e,t){let a,s,l=(0,o.c)(4),[i,n]=(0,r.useState)(e);return 500!==l[0]||l[1]!==e?(a=()=>{let t=setTimeout(()=>{n(e)},500);return()=>{clearTimeout(t)}},s=[e,500],l[0]=500,l[1]=e,l[2]=a,l[3]=s):(a=l[2],s=l[3]),(0,r.useEffect)(a,s),i}(u,0),[y,b]=(0,r.useState)([]),[f,j]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{"unauthenticated"===l&&p.push("/login")},[l,p]),(0,r.useEffect)(()=>{!async function(){if(!g||g.length<3){b([]),v(!1);return}j(!0);try{let e=await fetch(`${m.BASE_PATH}/api/students/search?q=${encodeURIComponent(g)}`),t=await e.json();t.data&&b(t.data)}catch(e){console.error("Failed to fetch students",e)}finally{j(!1),v(!0)}}()},[g]),"loading"===l)?(0,t.jsxs)("div",{className:"flex h-[80vh] flex-col items-center justify-center gap-4",children:[(0,t.jsx)(n.Loader2,{className:"h-10 w-10 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Autenticando..."})]}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("h1",{className:"text-4xl font-light tracking-tighter text-gray-900 sm:text-5xl",children:["Busca de ",(0,t.jsx)("span",{className:"font-bold text-primary",children:"Alunos"})]}),(0,t.jsx)("p",{className:"mt-4 text-sm font-medium text-gray-400 uppercase tracking-widest",children:"Consulte registros e emita declarações instantâneas"})]}),(0,t.jsxs)("div",{className:"relative mb-16 max-w-2xl group",children:[(0,t.jsx)(i,{className:"absolute left-6 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-300 group-focus-within:text-primary transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Pesquisar por nome ou CPF...",value:u,onChange:e=>h(e.target.value),className:"w-full pl-16 pr-6 py-6 bg-white border-2 border-gray-100 rounded-2xl text-lg font-light tracking-tight focus:border-primary focus:ring-0 transition-all shadow-sm hover:shadow-md outline-none",autoFocus:!0})]}),(0,t.jsx)("div",{className:"space-y-6",children:f?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,t.jsx)(n.Loader2,{className:"h-10 w-10 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Processando base de dados..."})]}):0===y.length&&N?(0,t.jsxs)("div",{className:"text-center py-20 border-2 border-dashed border-gray-100 rounded-3xl animate-in zoom-in-95 duration-300",children:[(0,t.jsx)(d.User,{className:"h-12 w-12 text-gray-200 mx-auto mb-4"}),(0,t.jsxs)("p",{className:"text-gray-400 font-light",children:['Nenhum aluno encontrado para "',g,'".']})]}):y.length>0?(0,t.jsx)("div",{className:"overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-sm animate-in slide-in-from-bottom-4 duration-500",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400",children:"Aluno"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 hidden md:table-cell",children:"CPF"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 hidden lg:table-cell",children:"Turma"}),(0,t.jsx)("th",{className:"px-8 py-5 text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400",children:"Status"}),(0,t.jsx)("th",{className:"px-8 py-5 text-right"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-50",children:y.map((e,a)=>{let s=e["Situação Cadastral"],r="DISTRATO"===s,l="TRANCADO"===s;return(0,t.jsxs)("tr",{className:"group hover:bg-gray-50/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-8 py-6",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 group-hover:text-primary transition-colors",children:e["Nome Completo"]}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:e.Curso||e.sourceSheet})]}),(0,t.jsx)("td",{className:"px-8 py-6 text-sm text-gray-500 hidden md:table-cell tabular-nums",children:e.CPF}),(0,t.jsx)("td",{className:"px-8 py-6 text-sm text-gray-500 hidden lg:table-cell",children:e.Turma||e.TURMA||e.sourceSheet}),(0,t.jsx)("td",{className:"px-8 py-6",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${r?"bg-red-50 text-red-600 border border-red-100":l?"bg-amber-50 text-amber-600 border border-amber-100":"bg-green-50 text-green-600 border border-green-100"}`,children:s})}),(0,t.jsx)("td",{className:"px-8 py-6 text-right px-8",children:(0,t.jsxs)(x.default,{href:`/aluno/${e.CPF?.replace(/\D/g,"")}`,className:`inline-flex items-center gap-2 text-sm font-bold uppercase tracking-widest transition-all ${r?"text-gray-300 pointer-events-none":"text-gray-900 hover:text-primary active:scale-95"}`,children:["Visualizar",(0,t.jsx)(c,{className:"h-4 w-4"})]})})]},a)})})]})}):(0,t.jsx)("div",{className:"text-center py-20",children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-300 uppercase tracking-[0.3em]",children:"Aguardando busca..."})})})]})}e.s(["default",()=>p],29426)}]);